<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title">Cosmic Wonders</title>
    <style>
        :root {
            /* Cosmic Wonders Theme Colors */
            --bg-color-primary: #000033; /* Very deep, dark blue */
            --bg-color-secondary: #1A004D; /* Dark purple, almost black */
            --text-color: #E0FFFF; /* Light Cyan, for stars/nebulae */
            --footer-bg: #0A0A33; /* Darker blue, distinct from the main background but still harmonious */
            --glass-bg: rgba(26, 26, 74, 0.7); /* Semi-transparent dark blue/purple */
            --glass-border: rgba(224, 255, 255, 0.3); /* Light cyan border */
            --fact-text-shadow: 2px 2px 15px rgba(0,0,0,0.9);
            --title-color: #FFD700; /* Gold, for stars/celestial bodies */
            --title-shadow: 4px 4px 25px rgba(0, 0, 0, 0.9);
            --main-action-btn: #8A2BE2; /* Blue Violet, cosmic feel */
            --main-action-btn-hover: #6A0DAD; /* Darker Blue Violet */
            --theme-indicator-color: #FFD700; /* Gold */
            --favorite-btn-color: #FFD700; /* Gold */
            --favorite-btn-hover: #B8860B; /* Dark Goldenrod */
            --share-btn-color: #00CED1; /* Dark Turquoise, for nebulae */
            --share-btn-hover: #008B8B; /* Dark Cyan */
            --rating-active-color: #8A2BE2; /* Blue Violet */
            --rating-text-color: #E0FFFF; /* Light Cyan */
            --category-select-bg: #1A1A4A;
            --category-select-border: #8A2BE2;
            --search-input-bg: rgba(255, 255, 255, 0.1);
            --search-input-border: rgba(224, 255, 255, 0.5);
            --search-input-text: #E0FFFF;
            --fact-card-bg: rgba(26, 26, 74, 0.8);
            --fact-card-border: rgba(255, 215, 0, 0.5); /* Gold border for emphasis */
            --fact-of-day-glow: 0 0 20px rgba(255, 215, 0, 0.7); /* Gold glow */
            --carousel-control-color: #FFD700;
            --carousel-control-hover: #B8860B;
            --trivia-correct-color: #00CED1;
            --trivia-incorrect-color: #DC3545;
            --streak-color: #FFD700;
            --streak-glow: 0 0 15px rgba(255, 215, 0, 0.5);
            --quiz-correct-color: #00CED1;
            --quiz-incorrect-color: #DC3545;
            --scramble-input-bg: rgba(255, 255, 255, 0.1);
            --scramble-input-border: #8A2BE2;
            --scramble-input-text: #E0FFFF;
            --scramble-button-bg: #00CED1;
            --scramble-button-hover: #008B8B;
            --scramble-message-correct: #00CED1;
            --scramble-message-incorrect: #DC3545;
        }

        body {
            background: linear-gradient(135deg, var(--bg-color-primary) 0%, var(--bg-color-secondary) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            transition: background 1.5s ease-in-out, color 0.8s ease;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            background: var(--glass-bg);
            border-radius: 20px;
            padding: 40px 60px;
            margin: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            max-width: 800px;
            width: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            transition: all 0.5s ease;
            animation: fadeInScale 0.8s ease-out forwards;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 {
            color: var(--title-color);
            font-size: 3.5rem;
            margin-bottom: 20px;
            text-shadow: var(--title-shadow);
            transition: color 0.5s ease;
        }

        #fact-display, #scramble-fact-display {
            font-size: 2.2rem;
            font-weight: 500;
            margin: 30px 0 15px 0;
            line-height: 1.4;
            text-shadow: var(--fact-text-shadow);
            color: var(--text-color);
            transition: color 0.5s ease, transform 0.5s ease, opacity 0.5s ease, filter 0.5s ease;
            opacity: 1;
            transform: translateY(0);
        }

        .blurred-fact {
            filter: blur(8px);
            cursor: pointer;
        }

        .fact-card {
            background-color: var(--fact-card-bg);
            border: 2px solid var(--fact-card-border);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.6);
            width: 90%;
            max-width: 600px;
            transition: all 0.5s ease;
            position: relative;
        }

        .action-button {
            background-color: var(--main-action-btn);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.3rem;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin-top: 20px;
        }

        .action-button:hover {
            background-color: var(--main-action-btn-hover);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.5);
        }

        .action-button:disabled {
            background-color: #555;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .rating-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }

        .rating-buttons {
            display: flex;
            gap: 15px;
            margin-top: 10px;
        }

        .rating-button {
            background-color: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-color);
            padding: 10px 15px;
            font-size: 1.5rem;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            transition: all 0.2s ease;
        }

        .rating-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        .rating-button.active {
            background-color: var(--rating-active-color);
            color: white;
            border-color: var(--rating-active-color);
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        #popularity-score {
            font-size: 1.1rem;
            color: var(--rating-text-color);
            margin-top: 10px;
            font-weight: bold;
        }

        .theme-indicator {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: var(--glass-bg);
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            color: var(--theme-indicator-color);
            border: 1px solid var(--glass-border);
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .favorite-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 2.5rem;
            cursor: pointer;
            color: var(--favorite-btn-color);
            transition: transform 0.2s ease, color 0.2s ease;
        }

        .favorite-button:hover {
            transform: scale(1.2);
            color: var(--favorite-btn-hover);
        }

        .share-button {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background-color: var(--share-btn-color);
            color: white;
            border: none;
            padding: 8px 15px;
            font-size: 0.9rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .share-button:hover {
            background-color: var(--share-btn-hover);
            transform: translateY(-2px);
        }

        footer {
            margin-top: 40px;
            padding: 20px;
            background-color: var(--footer-bg);
            color: var(--text-color);
            width: 100%;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            transition: background-color 0.5s ease, color 0.5s ease;
            animation: footerPulse 5s infinite alternate;
        }

        @keyframes footerPulse {
            0% { box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3); }
            100% { box-shadow: 0 -2px 20px rgba(74, 0, 128, 0.5); } /* Darker Blue Violet glow for cosmic theme */
        }

        /* New styles for the interactive fact reveal */
        .fact-reveal-wrapper {
            position: relative;
            display: inline-block;
        }

        .fact-reveal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .fact-reveal-wrapper:hover .fact-reveal-overlay {
            opacity: 1;
        }

        .fact-reveal-overlay.active {
            opacity: 0;
        }

        .fact-revealed {
            filter: blur(0px) !important;
        }

        /* Styles for the "Dive Deeper" button */
        .dive-deeper-button {
            background-color: var(--main-action-btn);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin-top: 15px;
        }

        .dive-deeper-button:hover {
            background-color: var(--main-action-btn-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.4);
        }

        /* Styles for Fact Scramble Game */
        .scramble-section {
            margin-top: 40px;
            background-color: var(--fact-card-bg);
            border: 2px solid var(--fact-card-border);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.6);
            width: 90%;
            max-width: 600px;
        }

        .scramble-section h2 {
            color: var(--title-color);
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: var(--title-shadow);
        }

        #scrambled-fact-display {
            font-size: 1.8rem;
            font-weight: 500;
            margin: 20px 0;
            line-height: 1.4;
            color: var(--text-color);
        }

        #scramble-input {
            width: 80%;
            padding: 10px;
            font-size: 1.1rem;
            border-radius: 8px;
            border: 2px solid var(--scramble-input-border);\n            background-color: var(--scramble-input-bg);\n            color: var(--scramble-input-text);\n            margin-bottom: 15px;\n            text-align: center;\n        }\n\n        #scramble-input::placeholder {\n            color: rgba(224, 255, 255, 0.7);\n        }\n\n        .scramble-buttons {\n            display: flex;\n            gap: 15px;\n            justify-content: center;\n        }\n\n        .scramble-button {\n            background-color: var(--scramble-button-bg);\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            font-size: 1.1rem;\n            border-radius: 8px;\n            cursor: pointer;\n            transition: background-color 0.3s ease, transform 0.2s ease;\n        }\n\n        .scramble-button:hover {\n            background-color: var(--scramble-button-hover);\n            transform: translateY(-2px);\n        }\n\n        #scramble-message {\n            margin-top: 15px;\n            font-size: 1.2rem;\n            font-weight: bold;\n        }\n\n        .correct-message {\n            color: var(--scramble-message-correct);\n        }\n\n        .incorrect-message {\n            color: var(--scramble-message-incorrect);\n        }\n\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <div class=\"theme-indicator\">Theme: Cosmic Wonders</div>\n        <button class=\"favorite-button\" aria-label=\"Add to favorites\">⭐</button>\n        <h1>Cosmic Wonders</h1>\n        <div class=\"fact-card\">\n            <div class=\"fact-reveal-wrapper\">\n                <p id=\"fact-display\" class=\"blurred-fact\">The observable universe is estimated to contain 2 trillion galaxies.</p>\n                <div class=\"fact-reveal-overlay\">Click to Reveal</div>\n            </div>\n            <button class=\"dive-deeper-button\" id=\"dive-deeper-btn\">Dive Deeper</button>\n            <button class=\"share-button\">Share</button>\n        </div>\n\n        <div class=\"rating-section\">\n            <p>How mind-blowing is this fact?</p>\n            <div class=\"rating-buttons\">\n                <button class=\"rating-button\" data-rating=\"1\">🤯</button>\n                <button class=\"rating-button\" data-rating=\"2\">🤩</button>\n                <button class=\"rating-button\" data-rating=\"3\">✨</button>\n            </div>\n            <p id=\"popularity-score\">Current Score: 0</p>\n        </div>\n\n        <div class=\"scramble-section\">\n            <h2>Fact Scramble Challenge!</h2>\n            <p>Unscramble the words to reveal the hidden cosmic fact.</p>\n            <p id=\"scrambled-fact-display\"></p>\n            <input type=\"text\" id=\"scramble-input\" placeholder=\"Type the unscrambled fact here...\">\n            <div class=\"scramble-buttons\">\n                <button class=\"scramble-button\" id=\"check-scramble-btn\">Check Answer</button>\n                <button class=\"scramble-button\" id=\"new-scramble-btn\">New Scramble</button>\n            </div>\n            <p id=\"scramble-message\"></p>\n        </div>\n    </div>\n\n    <footer>\n        <p>&copy; 2025 Cosmic Wonders. All rights reserved.</p>\n    </footer>\n\n    <script>\n        const factDisplay = document.getElementById('fact-display');\n        const factRevealOverlay = document.querySelector('.fact-reveal-overlay');\n        const diveDeeperBtn = document.getElementById('dive-deeper-btn');\n        const siteTitle = document.getElementById('site-title');\n        const mainTitle = document.querySelector('h1');\n        const themeIndicator = document.querySelector('.theme-indicator');\n\n        const scrambledFactDisplay = document.getElementById('scrambled-fact-display');\n        const scrambleInput = document.getElementById('scramble-input');\n        const checkScrambleBtn = document.getElementById('check-scramble-btn');\n        const newScrambleBtn = document.getElementById('new-scramble-btn');\n        const scrambleMessage = document.getElementById('scramble-message');\n\n        const facts = [\n            \"A teaspoon of neutron star material would weigh about 6 billion tons, roughly the same as all of humanity.\",\n            \"The observable universe is estimated to contain 2 trillion galaxies.\",\n            \"There are more individual atoms in a single grain of sand than there are grains of sand on all the beaches on Earth.\",\n            \"One million Earths could fit inside the Sun.\",\n            \"There are more stars in the universe than grains of sand on all the beaches on Earth.\",\n            \"The largest known structure in the universe is the Hercules-Corona Borealis Great Wall, a supercluster of galaxies 10 billion light-years across.\"\n        ];\n\n        let currentFactIndex = 0;\n        let currentScrambleFact = \"\";\n\n        function displayFact(fact) {\n            factDisplay.textContent = fact;\n            factDisplay.classList.add('blurred-fact');\n            factDisplay.classList.remove('fact-revealed');\n            factRevealOverlay.classList.remove('active');\n            factRevealOverlay.textContent = 'Click to Reveal';\n        }\n\n        function shuffleWords(text) {\n            const words = text.split(' ');\n            for (let i = words.length - 1; i > 0; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                [words[i], words[j]] = [words[j], words[i]];\n            }\n            return words.join(' ');\n        }\n\n        function startScrambleGame() {\n            const factToScramble = facts[Math.floor(Math.random() * facts.length)];\n            currentScrambleFact = factToScramble;\n            scrambledFactDisplay.textContent = shuffleWords(factToScramble);\n            scrambleInput.value = '';\n            scrambleMessage.textContent = '';\n            scrambleInput.style.borderColor = 'var(--scramble-input-border)';\n        }\n\n        factRevealOverlay.addEventListener('click', () => {\n            factDisplay.classList.remove('blurred-fact');\n            factDisplay.classList.add('fact-revealed');\n            factRevealOverlay.classList.add('active');\n        });\n\n        diveDeeperBtn.addEventListener('click', () => {\n            currentFactIndex = (currentFactIndex + 1) % facts.length;\n            displayFact(facts[currentFactIndex]);\n        });\n\n        checkScrambleBtn.addEventListener('click', () => {\n            const userAnswer = scrambleInput.value.trim();\n            if (userAnswer.toLowerCase() === currentScrambleFact.toLowerCase()) {\n                scrambleMessage.textContent = 'Correct! You\\'re a cosmic genius! ✨';\n                scrambleMessage.className = 'correct-message';\n                scrambleInput.style.borderColor = 'var(--scramble-message-correct)';\n            } else {\n                scrambleMessage.textContent = 'Not quite. Keep trying, space explorer!';\n                scrambleMessage.className = 'incorrect-message';\n                scrambleInput.style.borderColor = 'var(--scramble-message-incorrect)';\n            }\n        });\n\n        newScrambleBtn.addEventListener('click', startScrambleGame);\n\n        // Initial fact display\n        displayFact(facts[currentFactIndex]);\n        startScrambleGame(); // Start the scramble game on load\n\n        // Rating functionality (existing, kept for completeness)\n        const ratingButtons = document.querySelectorAll('.rating-button');\n        const popularityScore = document.getElementById('popularity-score');\n        let score = 0;\n\n        ratingButtons.forEach(button => {\n            button.addEventListener('click', () => {\n                ratingButtons.forEach(btn => btn.classList.remove('active'));\n                button.classList.add('active');\n                score += parseInt(button.dataset.rating);\n                popularityScore.textContent = `Current Score: ${score}`;\n            });\n        });\n\n        // Share button functionality (basic example)\n        document.querySelector('.share-button').addEventListener('click', () => {\n            if (navigator.share) {\n                navigator.share({\n                    title: document.title,\n                    text: factDisplay.textContent,\n                    url: window.location.href\n                }).then(() => {\n                    console.log('Fact shared successfully!');\n                }).catch((error) => {\n                    console.error('Error sharing fact:', error);\n                });\n            } else {\n                alert('Web Share API is not supported in this browser. You can manually copy the fact: ' + factDisplay.textContent);\n            }\n        });\n\n        // Favorite button functionality (basic example)\n        document.querySelector('.favorite-button').addEventListener('click', () => {\n            alert('Fact added to favorites! (Feature under development)');\n        });\n\n    </script>\n</body>\n</html>