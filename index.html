<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title">Cosmic Wonders</title>
    <style>
        :root {
            /* Cosmic Wonders Theme Colors */
            --bg-color-primary: #1A0033; /* Deep Space Purple */
            --bg-color-secondary: #0D001A; /* Even Deeper Space */
            --text-color: #E0BBE4; /* Pale Lavender */
            --footer-bg: #120026; /* Darker Space Purple for Footer */
            --glass-bg: rgba(26, 0, 51, 0.7); /* Semi-transparent Deep Space Purple */
            --glass-border: rgba(224, 187, 228, 0.3); /* Soft Pale Lavender border */
            --fact-text-shadow: 0 0 15px rgba(224, 187, 228, 0.8); /* Pale Lavender glow */
            --title-color: #FFD700; /* Gold - for a vibrant cosmic title */
            --title-shadow: 0 0 20px rgba(255, 215, 0, 0.7); /* Gold glow */
            --main-action-btn: #FFD700; /* Gold - for action buttons */
            --main-action-btn-hover: #DAA520; /* Goldenrod */
            --theme-indicator-color: #FFD700; /* Gold */
            --favorite-btn-color: #FFD700; /* Gold */
            --favorite-btn-hover: #DAA520; /* Goldenrod */
            --share-btn-color: #FFD700; /* Gold */
            --share-btn-hover: #DAA520; /* Goldenrod */
            --rating-active-color: #FFD700; /* Gold */
            --rating-text-color: #E0BBE4; /* Pale Lavender */
            --fact-card-bg: rgba(13, 0, 26, 0.8); /* Very dark, almost black with a hint of purple */
            --fact-card-border: rgba(255, 215, 0, 0.5); /* Gold border for emphasis */
            --fact-of-day-glow: 0 0 25px rgba(255, 215, 0, 0.9); /* Strong Gold glow */
            --cosmic-scan-color: rgba(255, 255, 0, 0.9); /* Yellow scan for cosmic theme */
            --scramble-input-bg: rgba(224, 187, 228, 0.1);
            --scramble-input-border: #FFD700;
            --scramble-input-text: #E0BBE4;
            --scramble-button-bg: #FFD700;
            --scramble-button-hover: #DAA520;
            --scramble-message-correct: #E0BBE4;
            --scramble-message-incorrect: #EF5350; /* Red for incorrect */
            --star-particle-color: rgba(224, 187, 228, 0.7); /* Pale Lavender for particles */
        }

        body {
            background: linear-gradient(135deg, var(--bg-color-primary) 0%, var(--bg-color-secondary) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            transition: background 1.5s ease-in-out, color 0.8s ease;
            overflow-x: hidden;
            position: relative;
            cursor: crosshair; /* Indicate interactivity */
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .stargazing-mode {
            background: #000000; /* Black for stargazing */
            background-image: radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
                              radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
                              radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 40px),
                              radial-gradient(rgba(255,255,255,.4), rgba(255,255,255,.1) 2px, transparent 30px);
            background-size: 550px 550px, 350px 350px, 250px 250px, 150px 150px;
            background-position: 0 0, 40px 60px, 130px 270px, 70px 100px;
            animation: starfieldPan 200s linear infinite;
        }

        @keyframes starfieldPan {
            from { background-position: 0 0, 40px 60px, 130px 270px, 70px 100px; }
            to { background-position: 10000px 5000px, 10040px 5060px, 10130px 5270px, 10070px 5100px; }
        }


        .container {
            background: var(--glass-bg);
            border-radius: 25px; /* Slightly more rounded */
            padding: 40px 60px;
            margin: auto;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6); /* Stronger shadow */
            backdrop-filter: blur(12px); /* More blur */
            border: 1px solid var(--glass-border);
            max-width: 900px; /* Wider container */
            width: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 350px; /* Taller container */
            transition: all 0.6s ease;
            animation: fadeInScale 1s ease-out forwards;
            position: relative; /* For absolute positioning of theme indicator */
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 {
            color: var(--title-color);
            font-size: 4rem; /* Larger title */
            margin-bottom: 25px;
            text-shadow: var(--title-shadow);
            transition: color 0.6s ease;
            letter-spacing: 2px; /* More spaced out */
        }

        #fact-display, #scramble-fact-display {
            font-size: 2.5rem; /* Larger fact text */
            font-weight: 600; /* Bolder */
            margin: 35px 0 20px 0;
            line-height: 1.5;
            text-shadow: var(--fact-text-shadow);
            color: var(--text-color);
            transition: color 0.6s ease, transform 0.6s ease, opacity 0.6s ease, filter 0.6s ease;
            opacity: 1;
            transform: translateY(0);
            padding: 0 15px; /* Add some padding */
        }

        .blurred-fact {
            filter: blur(10px); /* More blur for mystery */
            cursor: pointer;
        }

        .fact-card {
            background-color: var(--fact-card-bg);
            border: 2px solid var(--fact-card-border);
            border-radius: 20px; /* More rounded */
            padding: 30px;
            margin: 25px 0;
            box-shadow: var(--fact-of-day-glow); /* Emphasize fact of the day */
            width: 95%;
            max-width: 700px;
            transition: all 0.6s ease;
            position: relative;
            overflow: hidden; /* For cosmic scan */
        }

        .action-button {
            background-color: var(--main-action-btn);
            color: white;
            border: none;
            padding: 18px 35px; /* Larger buttons */
            font-size: 1.4rem;
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 6px 18px rgba(0,0,0,0.5);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            margin-top: 25px;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .action-button:hover {
            background-color: var(--main-action-btn-hover);
            transform: translateY(-4px); /* More pronounced lift */
            box-shadow: 0 10px 25px rgba(0,0,0,0.6);
        }

        .action-button:disabled {
            background-color: #333;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .rating-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
        }

        .rating-section p {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-color);
        }

        .rating-buttons {
            display: flex;
            gap: 20px;
            margin-top: 10px;
        }

        .rating-button {
            background-color: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--text-color);
            padding: 12px 18px;
            font-size: 1.8rem; /* Larger icons */
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 3px 12px rgba(0,0,0,0.4);
            transition: all 0.2s ease;
        }

        .rating-button:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        }

        .rating-button.active {
            background-color: var(--rating-active-color);
            color: white;
            border-color: var(--rating-active-color);
            transform: scale(1.15);
            box-shadow: 0 6px 18px rgba(0,0,0,0.6);
        }

        #popularity-score {
            font-size: 1.2rem;
            color: var(--rating-text-color);
            margin-top: 15px;
            font-weight: bold;
            letter-spacing: 0.5px;
        }

        .theme-indicator {
            position: absolute;
            top: 25px;
            right: 25px;
            background-color: var(--theme-indicator-color);
            color: var(--bg-color-primary); /* Text color contrasting with indicator */
            padding: 8px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            letter-spacing: 0.5px;
        }

        .footer {
            margin-top: 40px;
            padding: 20px;
            background-color: var(--footer-bg);
            color: var(--text-color);
            width: 100%;
            font-size: 0.9rem;
            border-top: 1px solid var(--glass-border);
            box-shadow: 0 -5px 20px rgba(0,0,0,0.3);
            transition: background-color 0.8s ease, color 0.8s ease;
        }

        .footer a {
            color: var(--text-color);
            text-decoration: none;
            margin: 0 5px;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: var(--main-action-btn);
        }

        /* Cosmic Scan Effect */
        .cosmic-scan-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, transparent, var(--cosmic-scan-color), transparent);
            animation: scanLine 3s infinite linear;
            opacity: 0;
            z-index: 10;
        }

        @keyframes scanLine {
            0% { top: 0%; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { top: 100%; opacity: 0; }
        }

        /* Fact Scramble Challenge / Cosmic Fact Scramble */
        #scramble-section {
            margin-top: 30px;
            padding: 25px;
            background: var(--glass-bg);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 20px rgba(0,0,0,0.5);
            width: 90%;
            max-width: 600px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            transition: all 0.6s ease;
        }

        #scramble-section h2 {
            color: var(--title-color);
            font-size: 2rem;
            text-shadow: var(--title-shadow);
            margin-bottom: 10px;
        }

        #scramble-input {
            padding: 12px 20px;
            font-size: 1.2rem;
            border-radius: 8px;
            border: 2px solid var(--scramble-input-border);
            background-color: var(--scramble-input-bg);
            color: var(--scramble-input-text);
            width: 80%;
            max-width: 400px;
            text-align: center;
            transition: border-color 0.3s ease, background-color 0.3s ease;
        }

        #scramble-input:focus {
            outline: none;
            border-color: var(--main-action-btn);
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        #scramble-submit-btn {
            background-color: var(--scramble-button-bg);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-weight: bold;
        }

        #scramble-submit-btn:hover {
            background-color: var(--scramble-button-hover);
            transform: translateY(-2px);
        }

        #scramble-message {
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 10px;
            min-height: 20px; /* Reserve space */
        }

        .correct-message {
            color: var(--scramble-message-correct);
            text-shadow: 0 0 8px rgba(224, 187, 228, 0.7);
        }

        .incorrect-message {
            color: var(--scramble-message-incorrect);
            text-shadow: 0 0 8px rgba(239, 83, 80, 0.7);
        }

        /* Star Particle Effect */
        .star-particle {
            position: absolute;
            background-color: var(--star-particle-color);
            border-radius: 50%;
            animation: twinkle 1.5s infinite ease-in-out alternate;
            pointer-events: none;
            z-index: -1;
        }

        @keyframes twinkle {
            0% { opacity: 0.5; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Toggle Switch for Stargazing Mode */
        .toggle-switch {
            position: absolute;
            top: 25px;
            left: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 100;
        }

        .toggle-switch input[type="checkbox"] {
            height: 0;
            width: 0;
            visibility: hidden;
        }

        .toggle-switch label {
            cursor: pointer;
            text-indent: -9999px;
            width: 60px;
            height: 30px;
            background: grey;
            display: block;
            border-radius: 100px;
            position: relative;
            transition: background-color 0.3s;
        }

        .toggle-switch label:after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 24px;
            height: 24px;
            background: #fff;
            border-radius: 90px;
            transition: 0.3s;
        }

        .toggle-switch input:checked + label {
            background: var(--main-action-btn);
        }

        .toggle-switch input:checked + label:after {
            left: calc(100% - 3px);
            transform: translateX(-100%);
        }

        .toggle-switch span {
            color: var(--text-color);
            font-size: 1rem;
            font-weight: bold;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 30px;
                width: 95%;
            }

            h1 {
                font-size: 3rem;
            }

            #fact-display, #scramble-fact-display {
                font-size: 1.8rem;
            }

            .action-button {
                padding: 15px 25px;
                font-size: 1.2rem;
            }

            .theme-indicator, .toggle-switch {
                top: 15px;
                right: 15px;
                left: 15px;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 2.5rem;
            }

            #fact-display, #scramble-fact-display {
                font-size: 1.5rem;
            }

            .action-button {
                width: 100%;
                padding: 12px 20px;
            }

            .rating-buttons {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="toggle-switch">
        <input type="checkbox" id="stargazing-toggle">
        <label for="stargazing-toggle">Toggle</label>
        <span>Stargazing Mode</span>
    </div>

    <div class="container">
        <div class="theme-indicator">Cosmic Wonders</div>
        <h1 id="site-main-title">Cosmic Wonders</h1>

        <div class="fact-card">
            <div class="cosmic-scan-line"></div>
            <p id="fact-display" class="blurred-fact">A teaspoon of neutron star material would weigh about 6 billion tons.</p>
        </div>

        <button id="new-fact-btn" class="action-button">Explore Cosmos</button>

        <div class="rating-section">
            <p>How mind-bending is this cosmic wonder?</p>
            <div class="rating-buttons">
                <button class="rating-button" data-rating="1">⭐</button>
                <button class="rating-button" data-rating="2">⭐⭐</button>
                <button class="rating-button" data-rating="3">⭐⭐⭐</button>
                <button class="rating-button" data-rating="4">⭐⭐⭐⭐</button>
                <button class="rating-button" data-rating="5">⭐⭐⭐⭐⭐</button>
            </div>
            <p id="popularity-score">Popularity Score: 0</p>
        </div>

        <div id="scramble-section">
            <h2>Cosmic Fact Scramble</h2>
            <p id="scramble-fact-display" class="blurred-fact">A teaspoon of neutron star material would weigh about 6 billion tons.</p>
            <input type="text" id="scramble-input" placeholder="Type the fact here...">
            <button id="scramble-submit-btn">Reveal Cosmic Truth</button>
            <p id="scramble-message"></p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Cosmic Wonders. All rights reserved. | Last updated: <span id="update-time"></span></p>
    </footer>

    <script>
        const facts = [
            "A teaspoon of neutron star material would weigh about 6 billion tons.",
            "The universe is estimated to be 13.8 billion years old.",
            "There are more stars in the universe than grains of sand on all the beaches on Earth.",
            "The largest known structure in the universe is the Hercules-Corona Borealis Great Wall, a supercluster of galaxies.",
            "Black holes are regions in spacetime where gravity is so strong that nothing, not even light, can escape."
        ];

        let currentFact = "";
        let popularityScore = 0;
        let factRevealed = false;

        const factDisplay = document.getElementById('fact-display');
        const newFactBtn = document.getElementById('new-fact-btn');
        const ratingButtons = document.querySelectorAll('.rating-button');
        const popularityScoreDisplay = document.getElementById('popularity-score');
        const updateTimeSpan = document.getElementById('update-time');
        const stargazingToggle = document.getElementById('stargazing-toggle');
        const body = document.body;
        const scrambleSection = document.getElementById('scramble-section');
        const scrambleFactDisplay = document.getElementById('scramble-fact-display');
        const scrambleInput = document.getElementById('scramble-input');
        const scrambleSubmitBtn = document.getElementById('scramble-submit-btn');
        const scrambleMessage = document.getElementById('scramble-message');

        function getRandomFact() {
            const randomIndex = Math.floor(Math.random() * facts.length);
            return facts[randomIndex];
        }

        function displayFact() {
            currentFact = getRandomFact();
            factDisplay.textContent = currentFact;
            factDisplay.classList.add('blurred-fact');
            scrambleFactDisplay.textContent = currentFact; // Display actual fact, but blurred
            scrambleFactDisplay.classList.add('blurred-fact');
            scrambleInput.value = '';
            scrambleMessage.textContent = '';
            factRevealed = false;
            resetRating();
        }

        function revealFact() {
            factDisplay.classList.remove('blurred-fact');
            scrambleFactDisplay.classList.remove('blurred-fact');
            factRevealed = true;
        }

        function resetRating() {
            ratingButtons.forEach(button => button.classList.remove('active'));
            popularityScore = 0;
            popularityScoreDisplay.textContent = `Popularity Score: ${popularityScore}`;
        }

        function updateTime() {
            const now = new Date();
            updateTimeSpan.textContent = now.toLocaleString();
        }

        function createStarParticle(x, y) {
            const star = document.createElement('div');
            star.classList.add('star-particle');
            star.style.left = `${x}px`;
            star.style.top = `${y}px`;
            const size = Math.random() * 3 + 1; // 1 to 4px
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            body.appendChild(star);

            setTimeout(() => {
                star.remove();
            }, 3000); // Remove after animation
        }

        // Event Listeners
        newFactBtn.addEventListener('click', displayFact);

        ratingButtons.forEach(button => {
            button.addEventListener('click', () => {
                ratingButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                popularityScore = parseInt(button.dataset.rating);
                popularityScoreDisplay.textContent = `Popularity Score: ${popularityScore}`;
            });
        });

        stargazingToggle.addEventListener('change', () => {
            body.classList.toggle('stargazing-mode', stargazingToggle.checked);
        });

        document.addEventListener('mousemove', (e) => {
            if (stargazingToggle.checked) {
                createStarParticle(e.clientX, e.clientY);
            }
        });

        factDisplay.addEventListener('click', () => {
            if (factDisplay.classList.contains('blurred-fact')) {
                revealFact();
            }
        });

        scrambleFactDisplay.addEventListener('click', () => {
            if (scrambleFactDisplay.classList.contains('blurred-fact')) {
                revealFact();
            }
        });

        scrambleSubmitBtn.addEventListener('click', () => {
            const userAnswer = scrambleInput.value.trim();
            if (userAnswer.toLowerCase() === currentFact.toLowerCase()) {
                scrambleMessage.textContent = "Discovery Confirmed! Well done!";
                scrambleMessage.classList.remove('incorrect-message');
                scrambleMessage.classList.add('correct-message');
                revealFact();
            } else {
                scrambleMessage.textContent = "Incorrect. Keep exploring!";
                scrambleMessage.classList.remove('correct-message');
                scrambleMessage.classList.add('incorrect-message');
            }
        });

        // Initial load
        displayFact();
        updateTime();
        setInterval(updateTime, 60000); // Update time every minute
    </script>
</body>
</html>