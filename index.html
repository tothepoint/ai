<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="site-title">Deep Sea Wonders</title>
    <style>
        :root {
            /* Deep Sea Wonders Theme Colors (Mariana Trench) */
            --bg-color-primary: #00071A; /* Very dark, deep ocean blue */
            --bg-color-secondary: #001A33; /* Slightly lighter, dark teal */
            --text-color: #A0E6FF; /* Pale Aqua - light, almost glowing */
            --footer-bg: #00030A; /* Even darker blue, almost black */
            --footer-text-color: #66B2FF; /* Muted, light blue */
            --glass-bg: rgba(0, 26, 51, 0.7); /* Semi-transparent deep teal */
            --glass-border: rgba(102, 178, 255, 0.3); /* Soft, light blue */
            --fact-text-shadow: 0 0 15px rgba(160, 230, 255, 0.8); /* Subtle aqua glow */
            --title-color: #FFFFFF; /* Bright white */
            --title-shadow: 0 0 25px rgba(255, 255, 255, 0.9); /* Strong white glow */
            --main-action-btn: #FF8C00; /* Dark Orange - vibrant, contrasting */
            --main-action-btn-hover: #E67300; /* Darker Orange */
            --explore-glow-color: #00FFFF; /* Cyan - for emphasis */
            --explore-text-initial: rgba(160, 230, 255, 0.4); /* Dimmed pale aqua */
            --explore-text-active: #A0E6FF; /* Bright pale aqua */
            --fact-card-bg: rgba(0, 0, 0, 0.8); /* Very dark, almost black */
            --fact-card-border: rgba(0, 255, 255, 0.7); /* Vibrant cyan */
            --fact-of-day-glow: 0 0 25px rgba(0, 255, 255, 0.9); /* Strong cyan glow */

            /* Sonar Scan Mode */
            --sonar-scan-bg-primary: #000000; /* Black */
            --sonar-scan-bg-secondary: #000005; /* Even darker */
            --sonar-scan-indicator: #00FF00; /* Green for sonar */
            --sonar-scan-text: #00FF00; /* Green for sonar text */
        }

        body {
            background: linear-gradient(135deg, var(--bg-color-primary) 0%, var(--bg-color-secondary) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            transition: background 1.5s ease-in-out, color 0.8s ease;
            overflow-x: hidden;
            position: relative;
        }

        body.sonar-scanned {
            background: linear-gradient(135deg, var(--sonar-scan-bg-primary) 0%, var(--sonar-scan-bg-secondary) 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            background: var(--glass-bg);
            border-radius: 25px;
            padding: 40px 60px;
            margin: auto;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            max-width: 900px;
            width: 90%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
            position: relative;
            overflow: hidden;
            transition: all 0.5s ease-in-out;
        }

        h1 {
            color: var(--title-color);
            text-shadow: var(--title-shadow);
            font-size: 3.5em;
            margin-bottom: 20px;
            letter-spacing: 2px;
            transition: color 0.5s ease, text-shadow 0.5s ease;
        }

        .fact-card {
            background: var(--fact-card-bg);
            border: 1px solid var(--fact-card-border);
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--fact-of-day-glow);
            max-width: 700px;
            margin: 20px 0;
            transition: all 0.5s ease-in-out, transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .fact-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 35px rgba(0, 255, 255, 1); /* Stronger glow on hover */
        }

        .fact-card h2 {
            color: var(--explore-glow-color);
            font-size: 2.2em;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }

        .fact-text {
            font-size: 1.6em;
            line-height: 1.6;
            color: var(--explore-text-initial); /* Initially dim */
            text-shadow: none;
            transition: color 1s ease, text-shadow 1s ease;
        }

        .fact-text.revealed {
            color: var(--explore-text-active); /* Bright when revealed */
            text-shadow: var(--fact-text-shadow);
        }

        .button-group {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .action-button {
            background-color: var(--main-action-btn);
            color: #FFFFFF; /* White text on bright button */
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            font-weight: bold;
            box-shadow: 0 0 15px rgba(255, 140, 0, 0.5);
        }

        .action-button:hover:not(:disabled) {
            background-color: var(--main-action-btn-hover);
            transform: translateY(-3px);
            box-shadow: 0 0 25px rgba(230, 115, 0, 0.8);
        }

        .action-button:disabled {
            background-color: var(--main-action-btn-hover);
            cursor: default;
            opacity: 0.7;
            box-shadow: none;
        }

        footer {
            margin-top: 50px;
            padding: 20px;
            background-color: var(--footer-bg);
            color: var(--footer-text-color);
            width: 100%;
            box-sizing: border-box;
            border-top: 1px solid var(--glass-border);
            font-size: 0.9em;
            position: relative;
            z-index: 10;
        }

        /* Bioluminescent Particles Effect */
        .bioluminescent-particle {
            position: absolute;
            background: radial-gradient(circle at center, rgba(0, 255, 255, 0.8) 0%, rgba(0, 255, 255, 0.5) 50%, rgba(0, 255, 255, 0) 100%);
            border-radius: 50%;
            opacity: 0;
            animation: bioluminescentFloatAndGlow 25s infinite ease-in-out, shimmer 3s infinite alternate;
            z-index: -1;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.7);
        }

        @keyframes bioluminescentFloatAndGlow {
            0% { opacity: 0; transform: translate(0, 0) scale(0.2); }
            15% { opacity: 0.6; transform: translate(10vw, 20vh) scale(0.8); }
            30% { opacity: 0.4; transform: translate(30vw, 5vh) scale(0.5); }
            45% { opacity: 0.7; transform: translate(50vw, 25vh) scale(1.0); }
            60% { opacity: 0.5; transform: translate(70vw, 10vh) scale(0.7); }
            75% { opacity: 0.8; transform: translate(90vw, 30vh) scale(1.1); }
            100% { opacity: 0; transform: translate(100vw, 0) scale(0.3); }
        }

        @keyframes shimmer {
            0% { transform: scale(1); opacity: 0.6; }
            100% { transform: scale(1.05); opacity: 0.9; }
        }

        /* Sonar Scan Feature */
        .sonar-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none; /* Hidden by default */
            flex-direction: column;\n            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.7);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.7); /* Cyan shadow */
            z-index: 100;
            width: 200px;
            border: 1px solid var(--main-action-btn);
        }

        .sonar-container.active {
            display: flex;
        }

        .sonar-bar {
            width: 10px;
            height: 150px;
            background: linear-gradient(to top, var(--main-action-btn), var(--bg-color-secondary)); /* Orange to Deep Teal */
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        .sonar-indicator {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--sonar-scan-indicator); /* Green */
            height: 0%;
            transition: height 5s ease-out; /* Animation for scan */
        }

        .sonar-text {
            font-size: 1.5em;
            color: var(--sonar-scan-text); /* Green */
            text-shadow: var(--title-shadow);
        }

        .deep-sea-discovery-fact {
            position: absolute;
            font-size: 1.1em;
            color: rgba(255, 255, 255, 0.8);
            opacity: 0;
            animation: fact-fade-in-out 5s ease-in-out forwards;
            pointer-events: none;
            white-space: nowrap;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        @keyframes fact-fade-in-out {
            0% { opacity: 0; transform: translateY(20px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Deep Sea Wonders</h1>
        <div class="fact-card" id="factCard">
            <h2>The Mariana Trench: Earth's Deepest Abyss</h2>
            <p id="main-fact" class="fact-text">The Mariana Trench is the deepest oceanic trench on Earth, reaching a maximum known depth of about 11,000 meters (36,000 feet).</p>
            <p id="fact-detail" class="fact-text" style="display: none; font-size: 1.2em; margin-top: 15px;">If Mount Everest were placed in the trench, its peak would still be over a mile underwater. This extreme environment hosts unique life forms adapted to immense pressure and perpetual darkness.</p>
            <div class="button-group">
                <button class="action-button" id="revealButton" onclick="activateSonarScan()">Sonar Scan</button>
            </div>
        </div>
    </div>

    <div class="sonar-container" id="gazeContainer">
        <div class="sonar-bar">
            <div class="sonar-indicator" id="gazeIndicator"></div>
        </div>
        <p class="sonar-text" id="gazeProgress">0 Meters Scanned</p>
    </div>

    <footer>
        <p>Site last updated: <span id="update-time"></span></p>
    </footer>

    <script>
        function updateTime() {
            const now = new Date();
            document.getElementById('update-time').textContent = now.toLocaleString();
        }
        setInterval(updateTime, 1000);
        updateTime(); // Initial call

        function createBioluminescentParticle() {
            const particle = document.createElement('div');
            particle.classList.add('bioluminescent-particle');
            document.body.appendChild(particle);

            const size = Math.random() * 8 + 3; // 3 to 11px, slightly smaller
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${Math.random() * 100}vw`;
            particle.style.top = `${Math.random() * 100}vh`;
            particle.style.animationDelay = `${Math.random() * 20}s`;
            particle.style.animationDuration = `${Math.random() * 20 + 20}s`; // 20 to 40s
        }

        let particlesCreated = false;
        let sonarInterval;
        let deepSeaEventInterval;

        const deepSeaFacts = [
            "The pressure at the bottom of the Mariana Trench is over 1,000 times that at sea level.",
            "Many organisms in the trench use chemosynthesis, not photosynthesis, for energy.",
            "The Challenger Deep is the deepest known point, explored by only a few.",
            "Some fish in the trench have antifreeze proteins to survive near-freezing temperatures.",
            "Despite the extreme conditions, diverse microbial life thrives in the trench."
        ];

        function createDeepSeaDiscoveryFact(fact) {
            const factElement = document.createElement('div');
            factElement.classList.add('deep-sea-discovery-fact');
            factElement.textContent = fact;
            document.body.appendChild(factElement);

            const containerRect = document.querySelector('.container').getBoundingClientRect();
            const factCardRect = document.getElementById('factCard').getBoundingClientRect();

            const randomX = Math.random() * (containerRect.width * 0.6) + (containerRect.left + containerRect.width * 0.2);
            const randomY = Math.random() < 0.5 ?
                            factCardRect.top - 50 - Math.random() * 50 :
                            factCardRect.bottom + 20 + Math.random() * 50;

            factElement.style.left = `${randomX}px`;
            factElement.style.top = `${randomY}px`;

            factElement.onanimationend = () => {
                factElement.remove();
            };
        }

        function activateSonarScan() {
            const mainFact = document.getElementById('main-fact');
            const factDetail = document.getElementById('fact-detail');
            const revealButton = document.getElementById('revealButton');
            const body = document.body;
            const sonarContainer = document.getElementById('gazeContainer'); // Renamed ID in HTML
            const sonarIndicator = document.getElementById('gazeIndicator'); // Renamed ID in HTML
            const sonarProgressText = document.getElementById('gazeProgress'); // Renamed ID in HTML

            mainFact.classList.toggle('revealed');
            factDetail.style.display = factDetail.style.display === 'none' ? 'block' : 'none';
            body.classList.toggle('sonar-scanned');

            if (mainFact.classList.contains('revealed')) {
                revealButton.textContent = "Return to Surface";
                sonarContainer.classList.add('active');
                sonarIndicator.style.height = '100%'; // Animate to full scan

                let currentMeters = 0;
                const maxDepth = 11000; // Approximate depth of Mariana Trench
                const duration = 5000; // 5 seconds for animation
                const steps = 100;
                let step = 0;

                sonarInterval = setInterval(() => {
                    step++;
                    currentMeters = Math.round((step / steps) * maxDepth);
                    sonarProgressText.textContent = `${currentMeters} Meters Scanned`;
                    if (step >= steps) {
                        clearInterval(sonarInterval);
                        sonarProgressText.textContent = `${maxDepth} Meters Scanned (Life Detected!)`;
                    }
                }, duration / steps);

                // Start deep sea event fact display
                let factIndex = 0;
                deepSeaEventInterval = setInterval(() => {
                    if (factIndex < deepSeaFacts.length) {
                        createDeepSeaDiscoveryFact(deepSeaFacts[factIndex]);
                        factIndex++;
                    } else {
                        clearInterval(deepSeaEventInterval);
                    }
                }, 1000); // Display a new fact every 1 second

                if (!particlesCreated) {
                    for (let i = 0; i < 50; i++) { // Create 50 bioluminescent particles
                        createBioluminescentParticle();
                    }
                    particlesCreated = true;
                }
            } else {
                revealButton.textContent = "Sonar Scan";
                document.querySelectorAll('.bioluminescent-particle').forEach(particle => particle.remove());
                document.querySelectorAll('.deep-sea-discovery-fact').forEach(fact => fact.remove());
                particlesCreated = false;
                sonarContainer.classList.remove('active');
                sonarIndicator.style.height = '0%'; // Reset sonar indicator
                sonarProgressText.textContent = '0 Meters Scanned';
                clearInterval(sonarInterval);
                clearInterval(deepSeaEventInterval);
            }
        }

        // Bioluminescent Sparkle Particles effect on fact card hover
        const factCard = document.getElementById('factCard');
        factCard.addEventListener('mousemove', function(e) {
            const particle = document.createElement('span');
            particle.classList.add('sparkle-particle'); // Reusing sparkle-particle class, but it will be styled by the new theme
            this.appendChild(particle);

            const size = Math.random() * 10 + 5; // 5 to 15px
            particle.style.width = particle.style.height = `${size}px`;
            particle.style.left = `${e.clientX - this.getBoundingClientRect().left - size / 2}px`;
            particle.style.top = `${e.clientY - this.getBoundingClientRect().top - size / 2}px`;

            particle.onanimationend = () => {
                particle.remove();
            };
        });
    </script>
</body>
</html>