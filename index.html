<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Wonders: Fascinating Facts</title>
    <style>
        :root {
            /* Theme Colors for "A black hole the size of a marble would weigh more than the Earth." */
            --bg-gradient: linear-gradient(135deg, #0A0A2A, #200040); /* Very dark blue to very dark purple */
            --text-color: #E0FFFF; /* Light Cyan */
            --footer-bg: #150030; /* Darker purple/black */
            --glass-bg: rgba(32, 0, 64, 0.6); /* Dark purple, semi-transparent */
            --glass-border: rgba(224, 255, 255, 0.4); /* Light Cyan, semi-transparent */
            --fact-text-shadow: 2px 2px 15px rgba(0,0,0,0.9);
            --title-color: #E0FFFF; /* Light Cyan */
            --title-shadow: 4px 4px 25px rgba(0, 0, 0, 0.9);
            --button-primary: #4B0082; /* Indigo */
            --button-hover: #8A2BE2; /* Blue Violet */
            --main-action-btn: #E0FFFF; /* Light Cyan */
            --main-action-btn-hover: #AFEEEE; /* Pale Turquoise */
            --quiz-option-btn: #4B0082;
            --quiz-option-btn-hover: #8A2BE2;
            --quiz-correct: #32CD32;
            --quiz-incorrect: #FF4500;
            --challenge-timer-progress: #E0FFFF;
            --challenge-streak-color: #ADFF2F;
            --history-toggle-color: #E0FFFF; /* Light Cyan for footer text */
            --history-list-color: #B0E0E6; /* Powder Blue */
            --reveal-overlay-color: rgba(0, 0, 0, 0.8); /* Dark overlay for hidden fact */
        }

        body {
            background: var(--bg-gradient);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            transition: background 0.8s ease-in-out, color 0.5s ease;
            overflow-x: hidden;
        }
        .container {
            max-width: 1000px;
            width: 100%;
            margin-bottom: 20px;
            padding: 50px;
            background-color: var(--glass-bg);
            border-radius: 25px;
            box-shadow: 0 15px 50px 0 rgba( 0, 0, 0, 0.5 );
            backdrop-filter: blur( 12px );
            -webkit-backdrop-filter: blur( 12px );
            border: 1px solid var(--glass-border);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow: hidden;
        }
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255,255,255,0.08) 10%, transparent 70%);
            animation: rotateBackground 25s linear infinite;
            opacity: 0.4;
        }
        @keyframes rotateBackground {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        h1#main-title {
            font-size: 6rem;
            margin-bottom: 3rem;
            text-shadow: var(--title-shadow);
            color: var(--title-color);
            letter-spacing: 4px;
            font-weight: 900;
        }
        .fact-card {
            background-color: rgba(10, 0, 20, 0.7);
            padding: 45px;
            border-radius: 25px;
            margin-bottom: 35px;
            width: 90%;
            max-width: 850px;
            box-shadow: 0 0 40px rgba(0,0,0,0.7), inset 0 0 20px rgba(0,0,0,0.7);
            position: relative;
            overflow: hidden;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        p {
            font-size: 2.8rem;
            line-height: 1.6;
            margin-bottom: 2.5rem;
            cursor: default;
            transition: transform 0.3s ease-in-out, color 0.3s ease-in-out;
            text-shadow: var(--fact-text-shadow);
            font-weight: 600;
        }
        #main-fact, #quiz-fact, #challenge-fact {
            animation: fadeInScale 1.5s ease-out forwards;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
        }
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes slideInFromBottom {
            from { transform: translateY(120%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        #footer-info {
            font-size: 1.5rem;
            color: var(--history-toggle-color);
            background-color: var(--footer-bg);
            padding: 25px 50px;
            border-radius: 20px;
            opacity: 0.98;
            margin-top: 50px;
            animation: slideInFromBottom 1s ease-out forwards;
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.5);
            font-weight: 700;
            transition: background-color 0.5s ease, color 0.5s ease;
        }
        #fact-of-the-day-container {
            margin-top: 30px;
            margin-bottom: 30px;
            padding: 35px 45px;
            background-color: var(--glass-bg);
            border-radius: 25px;
            box-shadow: 0 10px 35px rgba(0,0,0,0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            cursor: default;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
            max-width: 900px;
            width: 90%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }
        #fact-of-the-day-text {
            font-size: 2.6rem;
            color: var(--text-color);
            background-color: transparent;
            padding: 15px 25px;
            border-radius: 12px;
            font-style: italic;
            font-weight: 700;
            text-shadow: var(--fact-text-shadow);
            transition: color 1s ease, background-color 1s ease, filter 1s ease, opacity 1s ease;
            line-height: 1.5;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            z-index: 1;
        }
        #fact-of-the-day-text.hidden-fact {
            filter: blur(10px);
            opacity: 0.2;
            color: transparent;
            text-shadow: none;
        }
        #fact-of-the-day-text::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--reveal-overlay-color);
            border-radius: 12px;
            opacity: 0;
            transition: opacity 1s ease;
            z-index: -1;
        }
        #fact-of-the-day-text.hidden-fact::before {
            opacity: 1;
        }
        #did-you-know {
            margin-top: 30px;
            padding-top: 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.3);
            text-align: left;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 1s ease-out, opacity 1s ease-out, transform 1s ease-out;
            transform: translateY(30px);
        }
        #did-you-know.show-did-you-know {
            max-height: 350px;
            opacity: 1;
            transform: translateY(0);
        }
        #did-you-know h3 {
            font-size: 1.8rem;
            color: hsl(40, 100%, 80%);
            margin-bottom: 12px;
            text-shadow: 1px 1px 4px rgba(0,0,0,0.4);
        }
        #did-you-know-content {
            font-size: 1.3rem;
            color: var(--history-list-color);
            line-height: 1.6;
            margin-bottom: 0;
        }

        /* Quiz Specific Styles */
        #fact-challenge-area h2 {
            font-size: 3.2rem;
            margin-bottom: 2rem;
            color: var(--title-color);
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);
        }
        #quiz-fact, #challenge-fact {
            font-size: 2rem;
            margin-bottom: 3rem;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #challenge-options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        .challenge-option-btn {
            background-color: var(--quiz-option-btn);
            color: #FFFFFF;
            padding: 18px 35px;
            font-size: 1.3rem;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            min-width: 160px;
            box-shadow: 0 5px 12px rgba(0,0,0,0.3);
        }
        .challenge-option-btn:hover {
            background-color: var(--quiz-option-btn-hover);
            transform: translateY(-4px);
        }
        .challenge-option-btn.correct {
            background-color: var(--quiz-correct);
            box-shadow: 0 0 20px var(--quiz-correct);
        }
        .challenge-option-btn.incorrect {
            background-color: var(--quiz-incorrect);
            box-shadow: 0 0 20px var(--quiz-incorrect);
        }
        .quiz-feedback {
            font-size: 1.6rem;
            margin-top: 25px;
            font-weight: 800;
            animation: fadeIn 0.6s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Challenge Specific Styles */
        #challenge-timer-bar {
            width: 100%;
            height: 12px;
            background-color: rgba(255,255,255,0.25);
            border-radius: 6px;
            margin-bottom: 25px;
            overflow: hidden;
        }
        #challenge-timer-progress {
            height: 100%;
            width: 100%;
            background-color: var(--challenge-timer-progress);
            border-radius: 6px;
            transition: width linear;
        }
        #challenge-score {
            font-size: 2rem;
            color: var(--challenge-streak-color);
            margin-bottom: 20px;
            font-weight: 800;
            text-shadow: 1px 1px 6px rgba(0,0,0,0.5);
        }
        #challenge-feedback {
            font-size: 1.8rem;
            margin-top: 25px;
            font-weight: 800;
            animation: fadeIn 0.6s ease-out;
        }

        /* History Section */
        #history-section {
            margin-top: 35px;
            width: 100%;
            max-width: 850px;
            text-align: left;
        }
        #history-toggle-btn {
            background-color: var(--button-primary);
            color: var(--history-toggle-color);
            padding: 15px 30px;
            font-size: 1.2rem;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin-bottom: 25px;
            box-shadow: 0 5px 12px rgba(0,0,0,0.3);
        }
        #history-toggle-btn:hover {
            background-color: var(--button-hover);
            transform: translateY(-3px);
        }
        #history-list {
            list-style: none;
            padding: 0;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: max-height 1s ease-out, opacity 1s ease-out;
            background-color: rgba(255, 255, 255, 0.08);
            border-radius: 18px;
            padding: 0 25px;
            box-shadow: inset 0 0 12px rgba(0,0,0,0.3);
        }
        #history-list.show-history {
            max-height: 600px;
            opacity: 1;
            padding: 25px;
        }
        #history-list li {
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
            color: var(--history-list-color);
            font-size: 1.1rem;
        }
        #history-list li:last-child {
            border-bottom: none;
        }

        /* Buttons */
        .btn {
            background-color: var(--button-primary);
            color: #FFFFFF;
            padding: 18px 35px;
            font-size: 1.3rem;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            margin: 12px;
            box-shadow: 0 5px 12px rgba(0,0,0,0.3);
        }
        .btn:hover {
            background-color: var(--button-hover);
            transform: translateY(-4px);
        }
        .main-action-btn {
            background-color: var(--main-action-btn);
            font-size: 1.6rem;
            padding: 20px 40px;
            font-weight: 800;
            letter-spacing: 1.5px;
            color: var(--button-primary); /* Text color for main action button */
        }
        .main-action-btn:hover {
            background-color: var(--main-action-btn-hover);
            transform: translateY(-5px) scale(1.03);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            h1#main-title {
                font-size: 4rem;
                margin-bottom: 2rem;
            }
            .container {
                padding: 25px;
            }
            .fact-card {
                padding: 30px;
                min-height: 250px;
            }
            p {
                font-size: 2rem;
                margin-bottom: 2rem;
            }
            #fact-of-the-day-text {
                font-size: 2rem;
            }
            #footer-info {
                font-size: 1.1rem;
                padding: 18px 30px;
            }
            .btn, .challenge-option-btn {
                padding: 15px 25px;
                font-size: 1.1rem;
            }
            .main-action-btn {
                font-size: 1.3rem;
                padding: 18px 30px;
            }
            #did-you-know h3 {
                font-size: 1.6rem;
            }
            #did-you-know-content {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="main-title">Cosmic Wonders</h1>

        <div id="fact-of-the-day-container">
            <p id="fact-of-the-day-text" class="hidden-fact">A black hole the size of a marble would weigh more than the Earth.</p>
            <div id="challenge-buttons" style="margin-top: 20px;">
                <button id="reveal-fact-btn" class="btn main-action-btn">Reveal Fact</button>
                <button id="generate-fact-btn" class="btn">Generate New Fact</button>
            </div>
            <div id="did-you-know">
                <h3>Did You Know?</h3>
                <p id="did-you-know-content">If a black hole the size of a marble were to exist, its immense density would give it a gravitational pull exceeding that of our entire planet, despite its tiny size.</p>
            </div>
        </div>

        <!-- New Feature: Fact Quiz -->
        <div id="fact-challenge-area" class="container" style="display: none; margin-top: 40px;">
            <h2>Fact Challenge!</h2>
            <p id="quiz-fact"></p>
            <div id="challenge-options"></div>
            <div class="quiz-feedback" id="quiz-feedback"></div>
            <button id="next-fact-btn" class="btn" style="display: none; margin-top: 20px;">Next Fact</button>
        </div>

        <!-- History Section -->
        <div id="history-section">
            <button id="history-toggle-btn">Show Fact History</button>
            <ul id="history-list">
                <!-- History items will be dynamically added here -->
            </ul>
        </div>
    </div>

    <footer id="footer-info">
        Site last updated: <span id="last-updated-time"></span>
    </footer>

    <script>
        const factOfTheDayText = document.getElementById('fact-of-the-day-text');
        const revealFactBtn = document.getElementById('reveal-fact-btn');
        const generateFactBtn = document.getElementById('generate-fact-btn');
        const didYouKnow = document.getElementById('did-you-know');
        const didYouKnowContent = document.getElementById('did-you-know-content');
        const lastUpdatedTime = document.getElementById('last-updated-time');
        const historyToggleBtn = document.getElementById('history-toggle-btn');
        const historyList = document.getElementById('history-list');

        const facts = [
            {
                fact: "A black hole the size of a marble would weigh more than the Earth.",
                details: "If a black hole the size of a marble were to exist, its immense density would give it a gravitational pull exceeding that of our entire planet, despite its tiny size.",
                theme: {
                    bgGradient: 'linear-gradient(135deg, #0A0A2A, #200040)',
                    textColor: '#E0FFFF',
                    footerBg: '#150030',
                    glassBg: 'rgba(32, 0, 64, 0.6)',
                    glassBorder: 'rgba(224, 255, 255, 0.4)',
                    buttonPrimary: '#4B0082',
                    buttonHover: '#8A2BE2',
                    mainActionBtn: '#E0FFFF',
                    mainActionBtnHover: '#AFEEEE',
                    historyToggleColor: '#E0FFFF',
                    historyListColor: '#B0E0E6',
                    revealOverlayColor: 'rgba(0, 0, 0, 0.8)'
                }
            },
            {
                fact: "It rains diamonds on Jupiter and Saturn.",
                details: "Scientists believe that in the atmospheres of Jupiter and Saturn, lightning storms turn methane into soot, which is then compressed into graphite and then diamonds as it falls.",
                theme: {
                    bgGradient: 'linear-gradient(135deg, #2F4F4F, #4682B4)',
                    textColor: '#E0FFFF',
                    footerBg: '#223333',
                    glassBg: 'rgba(47, 79, 79, 0.6)',
                    glassBorder: 'rgba(224, 255, 255, 0.4)',
                    buttonPrimary: '#5F9EA0',
                    buttonHover: '#7FFFD4',
                    mainActionBtn: '#E0FFFF',
                    mainActionBtnHover: '#AFEEEE',
                    historyToggleColor: '#E0FFFF',
                    historyListColor: '#B0E0E6',
                    revealOverlayColor: 'rgba(0, 0, 0, 0.8)'
                }
            },
            {
                fact: "The universe is thought to be flat.",
                details: "Current cosmological data suggests that the universe is spatially flat, meaning that parallel lines will always remain parallel, unlike a curved or spherical universe.",
                theme: {
                    bgGradient: 'linear-gradient(135deg, #1A2A3A, #3A4A5A)',
                    textColor: '#F0F8FF',
                    footerBg: '#101A20',
                    glassBg: 'rgba(26, 42, 58, 0.6)',
                    glassBorder: 'rgba(240, 248, 255, 0.4)',
                    buttonPrimary: '#4682B4',
                    buttonHover: '#6A9ACD',
                    mainActionBtn: '#F0F8FF',
                    mainActionBtnHover: '#D0E0F0',
                    historyToggleColor: '#F0F8FF',
                    historyListColor: '#B0C4DE',
                    revealOverlayColor: 'rgba(0, 0, 0, 0.8)'
                }
            },
            {
                fact: "There are more stars than grains of sand on all the beaches on Earth.",
                details: "Astronomers estimate there are about 100 billion to 400 billion stars in our Milky Way galaxy alone, and there are billions of galaxies in the observable universe. This number vastly exceeds the estimated number of sand grains on Earth.",
                theme: {
                    bgGradient: 'linear-gradient(135deg, #000000, #2C003E)',
                    textColor: '#FFD700',
                    footerBg: '#1A002A',
                    glassBg: 'rgba(0, 0, 0, 0.7)',
                    glassBorder: 'rgba(255, 215, 0, 0.4)',
                    buttonPrimary: '#800080',
                    buttonHover: '#BA55D3',
                    mainActionBtn: '#FFD700',
                    mainActionBtnHover: '#FFEC8B',
                    historyToggleColor: '#FFD700',
                    historyListColor: '#DA70D6',
                    revealOverlayColor: 'rgba(0, 0, 0, 0.8)'
                }
            }
        ];

        let currentFactIndex = 0;
        let factHistory = [];

        function applyTheme(theme) {
            const root = document.documentElement;
            for (const [key, value] of Object.entries(theme)) {
                root.style.setProperty(`--${key}`, value);
            }
        }

        function displayFact(factObj) {
            factOfTheDayText.textContent = factObj.fact;
            didYouKnowContent.textContent = factObj.details;
            applyTheme(factObj.theme);

            // Reset for reveal feature
            factOfTheDayText.classList.add('hidden-fact');
            didYouKnow.classList.remove('show-did-you-know');
            revealFactBtn.textContent = "Reveal Fact";
            revealFactBtn.onclick = revealFact;

            // Add to history
            factHistory.unshift(factObj.fact); // Add to the beginning
            updateHistoryList();
        }

        function revealFact() {
            factOfTheDayText.classList.remove('hidden-fact');
            didYouKnow.classList.add('show-did-you-know');
            revealFactBtn.textContent = "Hide Details";
            revealFactBtn.onclick = hideFactDetails;
        }

        function hideFactDetails() {
            factOfTheDayText.classList.remove('hidden-fact'); // Fact remains visible
            didYouKnow.classList.remove('show-did-you-know');
            revealFactBtn.textContent = "Show Details";
            revealFactBtn.onclick = revealFact;
        }

        function generateNewFact() {
            let newIndex;
            do {
                newIndex = Math.floor(Math.random() * facts.length);
            } while (newIndex === currentFactIndex); // Ensure a different fact
            currentFactIndex = newIndex;
            displayFact(facts[currentFactIndex]);
        }

        function updateHistoryList() {
            historyList.innerHTML = '';
            factHistory.forEach(fact => {
                const listItem = document.createElement('li');
                listItem.textContent = fact;
                historyList.appendChild(listItem);
            });
        }

        function updateLastUpdatedTime() {
            const now = new Date();
            lastUpdatedTime.textContent = now.toLocaleString();
        }

        // Event Listeners
        revealFactBtn.addEventListener('click', revealFact);
        generateFactBtn.addEventListener('click', generateNewFact);
        historyToggleBtn.addEventListener('click', () => {
            historyList.classList.toggle('show-history');
            historyToggleBtn.textContent = historyList.classList.contains('show-history') ? 'Hide Fact History' : 'Show Fact History';
        });

        // Initial load
        document.addEventListener('DOMContentLoaded', () => {
            currentFactIndex = 0; // Start with the black hole fact
            displayFact(facts[currentFactIndex]);
            updateLastUpdatedTime();
            setInterval(updateLastUpdatedTime, 60000); // Update every minute
        });
    </script>
</body>
</html>